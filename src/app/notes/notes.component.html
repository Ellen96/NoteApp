<p *ngIf="selectedUser==0||selectedUser=== undefined ; else ASelectedUser ">{{selectedUser}}Geen notities beschikbaar...</p>

<ng-template #ASelectedUser >
    <div>{{categoryFilter}}</div>
    <p *ngIf="(categoryFilter==0||categoryFilter===undefined)&&(this.searchInput==0||this.searchInput===undefined); else AFilter" >
<mat-card *ngFor="let note of notes">    
    <div>{{categoryName}}</div>
    <mat-card-title >
        <mat-select disableRipple [value]="selectedCategory" (selectionChange)="addCategoryNote($event.value,note.id)"> 
            <mat-option [value]="0">Geen category</mat-option>      
            <mat-option *ngFor="let category of categorys" [value]="category.name">{{ category.name}}
                <mat-icon class="topbar-icon" [style.Color]="'white'" (click)="removeCategory(category.name)">delete</mat-icon>
            </mat-option>
            <mat-icon class="topbar-icon" [style.Color]="'white'" (click)="addCategory(note.id)">add</mat-icon>
            <mat-icon class="topbar-icon" [style.Color]="'white'" (click)="removeCategoryNote(note.id)">delete</mat-icon>         
        </mat-select>
    </mat-card-title>
    <mat-card-content>
        <textarea [style.backgroundColor]="'gray'" matInput cdkTextareaAutosize [(ngModel)]="note.content"></textarea>
    </mat-card-content> 
    <mat-card-actions>
        <button mat-button (click)="changeContent(note.content,note.id)">Opslaan</button>
        <button mat-raised-button color="warn" (click)="deleteNote(note.id)">
            <mat-icon class="topbar-icon" aria-hidden="false" *ngIf="selectedUser != 0">delete</mat-icon>
        </button>
    </mat-card-actions>
</mat-card>
<mat-card>
    <mat-card-title>Notitie Toevoegen...</mat-card-title>
    <mat-card-content>
        <textarea [style.backgroundColor]="'gray'" matInput [(ngModel)]="newNoteContent" rows="4"></textarea>
    </mat-card-content>
    <mat-card-actions>
        <button mat-button (click)="saveNewNote()">Opslaan</button>
    </mat-card-actions>
    <button mat-raised-button color="warn" (click)="deleteAllNotes()" aria-hidden="false" *ngIf="selectedUser != 0">
        Delete all notes
    </button>
</mat-card>
</p>
</ng-template>

<ng-template #AFilter>
    <p *ngIf="(categoryFilter!=0&&categoryFilter!=undefined)&&(this.searchInput==0||this.searchInput===undefined);else ASearch">
    Dit neemt hij dus mee.
    <mat-card *ngFor="let filterdNote of filterdNotes">    
        <mat-card-title >
        </mat-card-title>
        <mat-card-content>
            <textarea [style.backgroundColor]="'gray'" matInput cdkTextareaAutosize [value]="filterdNote.content"></textarea>
        </mat-card-content> 
    </mat-card>
</p>    
</ng-template>

<ng-template #ASearch>
    <p *ngIf="(categoryFilter==0||categoryFilter===undefined)&&(this.searchInput!=0&&this.searchInput!=undefined);else FilterAndSearch"></p>
    Dit is Asearch die hij toont.
    <mat-card *ngFor="let search of searchNotes">    
        <mat-card-title >
        </mat-card-title>
        <mat-card-content>
            <textarea [style.backgroundColor]="'gray'" matInput cdkTextareaAutosize [value]="search.content"></textarea>
        </mat-card-content> 
    </mat-card>    
</ng-template>

<ng-template #FilterAndSearch>
<p *ngIf="(categoryFilter!=0&&categoryFilter!=undefined)||(this.searchInput!=0&&this.searchInput!=undefined); else Error">
    You are using filter and search at the same time.
    This is not possible.
    Please clear one.
</p>
</ng-template>
<ng-template #Error>
    Error: we have noting to show.
</ng-template>